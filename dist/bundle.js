(()=>{"use strict";var e={d:(t,s)=>{for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{l2:()=>d,$p:()=>i,Iy:()=>l});var t=0;function s(){t&&(clearTimeout(t),t=0)}function n(){var e=document.querySelector(".result-screen"),t=document.querySelector(".overlay"),s=null==e?void 0:e.querySelector(".result__duration-time"),n=null==e?void 0:e.querySelector(".result__title"),a=null==e?void 0:e.querySelector(".btn-restart"),r=null==e?void 0:e.querySelector(".result__img"),c=new Image;null==t||t.classList.remove("hidden"),null==e||e.classList.remove("hidden"),"win"===d.status?(n.textContent="Вы выиграли",c.src="./static/win.png"):(n.textContent="Вы проиграли",c.src="./static/loose.png"),null==r||r.replaceChildren(c),s.textContent="".concat(d.duration," сек"),a.addEventListener("click",(function(){null==e||e.classList.add("hidden"),null==l||l.classList.add("hidden"),null==t||t.classList.add("hidden"),null==i||i.classList.remove("hidden")}))}var a=function(e,t,s){if(s||2===arguments.length)for(var n,a=0,r=t.length;a<r;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},r=["hearts-6.svg","hearts-7.svg","hearts-8.svg","hearts-9.svg","hearts-10.svg","hearts-jack.svg","hearts-queen.svg","hearts-king.svg","hearts-ace.svg","diamonds-6.svg","diamonds-7.svg","diamonds-8.svg","diamonds-9.svg","diamonds-10.svg","diamonds-jack.svg","diamonds-queen.svg","diamonds-king.svg","diamonds-ace.svg","spades-6.svg","spades-7.svg","spades-8.svg","spades-9.svg","spades-10.svg","spades-jack.svg","spades-queen.svg","spades-king.svg","spades-ace.svg","clubs-6.svg","clubs-7.svg","clubs-8.svg","clubs-9.svg","clubs-10.svg","clubs-jack.svg","clubs-queen.svg","clubs-king.svg","clubs-ace.svg"],d={difficulty:4,duration:"",generatedCards:[],selectedCards:[],status:""},l=document.querySelector(".game-screen"),i=document.querySelector(".difficulty-screen"),c=null==i?void 0:i.querySelector(".difficulty"),u=null==c?void 0:c.querySelectorAll(".difficulty__btn"),o=null==i?void 0:i.querySelector(".btn-start"),v=null==l?void 0:l.querySelector(".game__panel-timer");null==c||c.addEventListener("click",(function(e){var t=e.target;t.classList.contains("difficulty__btn")&&(null==u||u.forEach((function(e){e.classList.remove("difficulty__btn_selected")})),t.classList.add("difficulty__btn_selected"),d.difficulty=Number(t.dataset.value))})),null==o||o.addEventListener("click",(function(){null==i||i.classList.add("hidden"),null==l||l.classList.remove("hidden"),f(d.difficulty),d.generatedCards=g(d.generatedCards),h();var e=null==l?void 0:l.querySelector(".btn-reset");null==e||e.addEventListener("click",(function(){h()}))}));var g=function(e){return e.sort((function(){return Math.random()-.5}))},f=function(e){d.generatedCards=[];do{var t=(s=r.length,Math.floor(Math.random()*s));d.generatedCards.includes(t)||d.generatedCards.push(t)}while(d.generatedCards.length<e);var s;d.generatedCards=a(a([],d.generatedCards,!0),d.generatedCards,!0)};function h(){d.status="",v.textContent="0.0",s(),m(),setTimeout((function(){var e;null==(e=null==l?void 0:l.querySelectorAll(".card"))||e.forEach((function(e){e.src="./static/shirt.svg"})),function(e){if(!t){var s=(new Date).getTime(),n=function(){var a=(new Date).getTime()-s;e.textContent=(a/1e3).toFixed(1),t=window.setTimeout(n,50)};n()}}(v)}),3e3)}var m=function(){d.selectedCards=[];var e=0,t=null==l?void 0:l.querySelector(".game__cards");t.innerHTML="",d.generatedCards.forEach((function(a){var l=new Image;l.classList.add("card"),l.setAttribute("data-id",String(a)),l.src="./static/".concat(r[a]),t.appendChild(l),l.addEventListener("click",(function t(l){if("loose"!==d.status&&"win"!==d.status){var i=l.target;i.src="./static/".concat(r[a]),e%2==0?(d.selectedCards.push(a),e++):d.selectedCards[d.selectedCards.length-1]!==a?(s(),d.status="loose",d.duration=v.textContent,n()):(d.selectedCards.push(a),e++),d.selectedCards.length===d.generatedCards.length&&(s(),d.status="win",d.duration=v.textContent,n()),i.removeEventListener("click",t)}}))}))}})();