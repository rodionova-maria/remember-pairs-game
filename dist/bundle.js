(()=>{"use strict";var e={d:(t,s)=>{for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{l2:()=>l,$p:()=>c,Iy:()=>i});var t=0;function s(){t&&(clearTimeout(t),t=0)}function n(){var e=document.querySelector(".result-screen"),t=document.querySelector(".overlay"),s=null==e?void 0:e.querySelector(".result__duration-time"),n=null==e?void 0:e.querySelector(".result__title"),a=null==e?void 0:e.querySelector(".btn-restart"),r=null==e?void 0:e.querySelector(".result__img"),d=new Image;null==t||t.classList.remove("hidden"),null==e||e.classList.remove("hidden"),"win"===l.status?(n.textContent="Вы выиграли",d.src="./static/win.png"):(n.textContent="Вы проиграли",d.src="./static/loose.png"),null==r||r.replaceChildren(d),s.textContent="".concat(l.duration," сек"),a.addEventListener("click",(function(){null==e||e.classList.add("hidden"),null==i||i.classList.add("hidden"),null==t||t.classList.add("hidden"),null==c||c.classList.remove("hidden")}))}var a=function(e){return Math.floor(Math.random()*e)},r=function(e,t,s){if(s||2===arguments.length)for(var n,a=0,r=t.length;a<r;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},d=["hearts-6.svg","hearts-7.svg","hearts-8.svg","hearts-9.svg","hearts-10.svg","hearts-jack.svg","hearts-queen.svg","hearts-king.svg","hearts-ace.svg","diamonds-6.svg","diamonds-7.svg","diamonds-8.svg","diamonds-9.svg","diamonds-10.svg","diamonds-jack.svg","diamonds-queen.svg","diamonds-king.svg","diamonds-ace.svg","spades-6.svg","spades-7.svg","spades-8.svg","spades-9.svg","spades-10.svg","spades-jack.svg","spades-queen.svg","spades-king.svg","spades-ace.svg","clubs-6.svg","clubs-7.svg","clubs-8.svg","clubs-9.svg","clubs-10.svg","clubs-jack.svg","clubs-queen.svg","clubs-king.svg","clubs-ace.svg"],l={difficulty:4,duration:"",generatedCards:[],selectedCards:[],status:void 0},i=document.querySelector(".game-screen"),c=document.querySelector(".difficulty-screen"),u=null==c?void 0:c.querySelector(".difficulty"),o=null==u?void 0:u.querySelectorAll(".difficulty__btn"),v=null==c?void 0:c.querySelector(".btn-start"),g=null==i?void 0:i.querySelector(".game__panel-timer");null==u||u.addEventListener("click",(function(e){var t=e.target;t.classList.contains("difficulty__btn")&&(null==o||o.forEach((function(e){e.classList.remove("difficulty__btn_selected")})),t.classList.add("difficulty__btn_selected"),l.difficulty=Number(t.dataset.value))})),null==v||v.addEventListener("click",(function(){null==c||c.classList.add("hidden"),null==i||i.classList.remove("hidden"),f(l.difficulty),l.generatedCards=function(e){for(var t,s,n=e.length;0!=n;)s=a(n),n--,t=[e[s],e[n]],e[n]=t[0],e[s]=t[1];return e}(l.generatedCards),h();var e=null==i?void 0:i.querySelector(".btn-reset");null==e||e.addEventListener("click",(function(){h()}))}));var f=function(e){l.generatedCards=[];do{var t=a(d.length);l.generatedCards.includes(t)||l.generatedCards.push(t)}while(l.generatedCards.length<e);l.generatedCards=r(r([],l.generatedCards,!0),l.generatedCards,!0)};function h(){l.status="",g.textContent="0.0",s(),m(),setTimeout((function(){var e;null==(e=null==i?void 0:i.querySelectorAll(".card"))||e.forEach((function(e){e.src="./static/shirt.svg"})),function(e){if(!t){var s=(new Date).getTime(),n=function(){var a=(new Date).getTime()-s;e.textContent=(a/1e3).toFixed(1),t=window.setTimeout(n,50)};n()}}(g)}),3e3)}var m=function(){l.selectedCards=[];var e=0,t=null==i?void 0:i.querySelector(".game__cards");t.innerHTML="",l.generatedCards.forEach((function(a){var r=new Image;r.classList.add("card"),r.setAttribute("data-id",String(a)),r.src="./static/".concat(d[a]),t.appendChild(r),r.addEventListener("click",(function t(r){if("loose"!==l.status&&"win"!==l.status){var i=r.target;i.src="./static/".concat(d[a]),e%2==0?(l.selectedCards.push(a),e++):l.selectedCards[l.selectedCards.length-1]!==a?(s(),l.status="loose",l.duration=g.textContent,n()):(l.selectedCards.push(a),e++),l.selectedCards.length===l.generatedCards.length&&(s(),l.status="win",l.duration=g.textContent,n()),i.removeEventListener("click",t)}}))}))}})();