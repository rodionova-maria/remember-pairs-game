{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://remember-pairs-game/webpack/bootstrap","webpack://remember-pairs-game/webpack/runtime/define property getters","webpack://remember-pairs-game/webpack/runtime/hasOwnProperty shorthand","webpack://remember-pairs-game/./js/timer.ts","webpack://remember-pairs-game/./js/result.ts","webpack://remember-pairs-game/./js/getRandom.ts","webpack://remember-pairs-game/./js/script.ts","webpack://remember-pairs-game/./js/mix.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","let timeoutId = 0;\r\n\r\nexport function startTimer(node: Element) {\r\n  if (timeoutId) {\r\n    return;\r\n  }\r\n  const startTime = new Date().getTime();\r\n  const run = () => {\r\n    const time = new Date().getTime() - startTime;\r\n    node.textContent = (time / 1000).toFixed(1);\r\n    timeoutId = window.setTimeout(run, 50);\r\n  };\r\n  run();\r\n}\r\n\r\nexport function stopTimer() {\r\n  if (timeoutId) {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = 0;\r\n  }\r\n}\r\n","import { app } from './script';\r\nimport { difficultyScreen } from './script';\r\nimport { gameScreen } from './script';\r\n\r\nexport function showResult() {\r\n  const resultScreen = document.querySelector('.result-screen');\r\n  const overlay = document.querySelector('.overlay');\r\n  const resultDuration = resultScreen?.querySelector('.result__duration-time') as HTMLDivElement;\r\n  const resultTitle = resultScreen?.querySelector('.result__title') as HTMLDivElement;\r\n  const btnRestart = resultScreen?.querySelector('.btn-restart') as HTMLButtonElement;\r\n  const resultImg = resultScreen?.querySelector('.result__img');\r\n\r\n  const img = new Image();\r\n\r\n  overlay?.classList.remove('hidden');\r\n  resultScreen?.classList.remove('hidden');\r\n\r\n  if (app.status === 'win') {\r\n    resultTitle.textContent = 'Вы выиграли';\r\n    img.src = './static/win.png';\r\n  } else {\r\n    resultTitle.textContent = 'Вы проиграли';\r\n    img.src = './static/loose.png';\r\n  }\r\n\r\n  resultImg?.replaceChildren(img);\r\n\r\n  resultDuration.textContent = `${app.duration} сек`;\r\n\r\n  btnRestart.addEventListener('click', () => {\r\n    resultScreen?.classList.add('hidden');\r\n    gameScreen?.classList.add('hidden');\r\n    overlay?.classList.add('hidden');\r\n    difficultyScreen?.classList.remove('hidden');\r\n  });\r\n}\r\n","export const getRandom = (max: number) => Math.floor(Math.random() * max);\r\n","import { startTimer } from './timer';\nimport { stopTimer } from './timer';\nimport { showResult } from './result';\nimport { getRandom } from './getRandom';\nimport { mix } from './mix';\n\nimport '../css/vars.scss';\nimport '../css/main.scss';\nimport '../css/difficulty.scss';\nimport '../css/play.scss';\nimport '../css/result.scss';\n\nlet ALL_CARDS = [\n  'hearts-6.svg',\n  'hearts-7.svg',\n  'hearts-8.svg',\n  'hearts-9.svg',\n  'hearts-10.svg',\n  'hearts-jack.svg',\n  'hearts-queen.svg',\n  'hearts-king.svg',\n  'hearts-ace.svg',\n  'diamonds-6.svg',\n  'diamonds-7.svg',\n  'diamonds-8.svg',\n  'diamonds-9.svg',\n  'diamonds-10.svg',\n  'diamonds-jack.svg',\n  'diamonds-queen.svg',\n  'diamonds-king.svg',\n  'diamonds-ace.svg',\n  'spades-6.svg',\n  'spades-7.svg',\n  'spades-8.svg',\n  'spades-9.svg',\n  'spades-10.svg',\n  'spades-jack.svg',\n  'spades-queen.svg',\n  'spades-king.svg',\n  'spades-ace.svg',\n  'clubs-6.svg',\n  'clubs-7.svg',\n  'clubs-8.svg',\n  'clubs-9.svg',\n  'clubs-10.svg',\n  'clubs-jack.svg',\n  'clubs-queen.svg',\n  'clubs-king.svg',\n  'clubs-ace.svg',\n];\n\ntype App = {\n  difficulty: number;\n  duration: string | null;\n  generatedCards: number[];\n  selectedCards: number[];\n  status: string | undefined;\n};\n\nexport const app: App = {\n  difficulty: 4,\n  duration: '',\n  generatedCards: [],\n  selectedCards: [],\n  status: undefined,\n};\n\nexport const gameScreen = document.querySelector('.game-screen');\nexport const difficultyScreen = document.querySelector('.difficulty-screen');\nconst difficulty = difficultyScreen?.querySelector('.difficulty');\nconst difficultyButtons = difficulty?.querySelectorAll('.difficulty__btn');\nconst btnStart = difficultyScreen?.querySelector('.btn-start');\nconst gameTimer = gameScreen?.querySelector('.game__panel-timer') as HTMLDivElement;\n\ndifficulty?.addEventListener('click', (event) => {\n  const target = event.target as HTMLButtonElement;\n  if (!target.classList.contains('difficulty__btn')) {\n    return;\n  }\n  difficultyButtons?.forEach((btn) => {\n    btn.classList.remove('difficulty__btn_selected');\n  });\n  target.classList.add('difficulty__btn_selected');\n  app.difficulty = Number(target.dataset.value);\n});\n\nbtnStart?.addEventListener('click', () => {\n  difficultyScreen?.classList.add('hidden');\n  gameScreen?.classList.remove('hidden');\n\n  generateCards(app.difficulty);\n  app.generatedCards = mix(app.generatedCards);\n  showHide5sec();\n\n  const btnReset = gameScreen?.querySelector('.btn-reset');\n  btnReset?.addEventListener('click', () => {\n    showHide5sec();\n  });\n});\n\nconst generateCards = (difLevel: number) => {\n  app.generatedCards = [];\n  do {\n    let randomCardId = getRandom(ALL_CARDS.length);\n    if (!app.generatedCards.includes(randomCardId)) {\n      app.generatedCards.push(randomCardId);\n    }\n  } while (app.generatedCards.length < difLevel);\n  app.generatedCards = [...app.generatedCards, ...app.generatedCards];\n};\n\nfunction hideCards() {\n  const cards = gameScreen?.querySelectorAll('.card');\n  cards?.forEach((card) => {\n    const el = card as HTMLImageElement;\n    el.src = './static/shirt.svg';\n  });\n}\n\nfunction showHide5sec() {\n  app.status = '';\n  gameTimer.textContent = '0.0';\n  stopTimer();\n  renderCards();\n  setTimeout(function () {\n    hideCards();\n    startTimer(gameTimer);\n  }, 3000);\n}\n\nconst renderCards = () => {\n  app.selectedCards = [];\n  let clicksCounter = 0;\n  const cards = gameScreen?.querySelector('.game__cards') as HTMLElement;\n  cards.innerHTML = '';\n  app.generatedCards.forEach((id) => {\n    const card = new Image();\n    card.classList.add('card');\n    card.setAttribute('data-id', String(id));\n    card.src = `./static/${ALL_CARDS[id]}`;\n    cards.appendChild(card);\n\n    function cardClickHandler(event: Event) {\n      if (app.status === 'loose' || app.status === 'win') {\n        return;\n      }\n      const target = event.target as HTMLImageElement;\n\n      target.src = `./static/${ALL_CARDS[id]}`;\n      if (clicksCounter % 2 === 0) {\n        app.selectedCards.push(id);\n        clicksCounter++;\n      } else {\n        if (app.selectedCards[app.selectedCards.length - 1] !== id) {\n          stopTimer();\n          app.status = 'loose';\n          app.duration = gameTimer.textContent;\n          showResult();\n        } else {\n          app.selectedCards.push(id);\n          clicksCounter++;\n        }\n      }\n      if (app.selectedCards.length === app.generatedCards.length) {\n        stopTimer();\n        app.status = 'win';\n        app.duration = gameTimer.textContent;\n        showResult();\n      }\n      target.removeEventListener('click', cardClickHandler);\n    }\n\n    card.addEventListener('click', cardClickHandler);\n  });\n};\n","import { getRandom } from './getRandom';\r\n\r\nexport function mix(array: number[]) {\r\n  let currentIndex = array.length,\r\n    randomIndex;\r\n  while (currentIndex != 0) {\r\n    randomIndex = getRandom(currentIndex);\r\n    currentIndex--;\r\n    [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];\r\n  }\r\n\r\n  return array;\r\n}\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","timeoutId","stopTimer","clearTimeout","showResult","resultScreen","document","querySelector","overlay","resultDuration","resultTitle","btnRestart","resultImg","img","Image","classList","remove","app","status","textContent","src","replaceChildren","duration","addEventListener","add","gameScreen","difficultyScreen","getRandom","max","Math","floor","random","ALL_CARDS","difficulty","generatedCards","selectedCards","undefined","difficultyButtons","querySelectorAll","btnStart","gameTimer","event","target","contains","forEach","btn","Number","dataset","value","generateCards","array","randomIndex","currentIndex","length","mix","showHide5sec","btnReset","difLevel","randomCardId","includes","push","renderCards","setTimeout","cards","card","node","startTime","Date","getTime","run","time","toFixed","window","startTimer","clicksCounter","innerHTML","id","setAttribute","String","appendChild","cardClickHandler","removeEventListener"],"sourceRoot":""}